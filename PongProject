<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <title>Pong</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.13/p5.js"></script>
    <script>
        //All the variables that is being used in the project
        var ballX;
        var ballX1;
        var ballX2;
        var ballX3;
        
        var ballY;
        var ballY1;
        var ballY2;
        var ballY3;
        
        var ballSpeedX = 7;
        var ballSpeedX1 = 4;
        var ballSpeedX2 = 5.5;
        var ballSpeedX3 = 4.5;
        
        var ballSpeedY = 7;
        var ballSpeedY1 = 4;
        var ballSpeedY2 = 3;
        var ballSpeedY3 = 4;
        
        var paddleHeight = 30;
        var score;
        var score1;
        var r,b,g;
        var paused;
        var r1;
        var b1;
        var g1;
        var r2;
        var b2;
        var g2;
        
        function setup() {
            createCanvas(600,600); //Size of display
            noCursor(); //Mouse doesn't show up in the display
            
            ballX = random(width); //Where the ball will initially show up X-coordinate
            ballX1 = random(width); //Where the ball will initially show up X-coordinate
            ballX2 = random(width); //Where the ball will initially show up X-coordinate
            ballX3 = random(width); //Where the ball will initially show up X-coordinate 
            
            ballY = random(height/2);//Where the ball will initially show up Y-coordinate
            ballY1= random(height/2);//Where the ball will initially show up Y-coordinate
            ballY2= random(height/2);//Where the ball will initially show up Y-coordinate
            ballY3 = random(height/2);//Where the ball will initially show up Y-coordinate
            
            score = 0; //score
            score1 = 0;
            score2 = 0;
            
            paused = true; //Stop or resume the game
            //Description/Instruction for the game
            background("black"); //Color for the background
            textAlign(CENTER); //The position of the text
            textSize(25); //How big the text will be
            fill("white"); //Color of the text
            //What the text is and the location
            text("Welcome to \n THE PONG GAME \n Press the mouse to begin/stop/resume the game",width/2,height/4);
            textSize(30);
            fill("red");
            text("DISCLAIMER \n THIS GAME'S MOD MIGHT INJURE YOUR EYES! \n WE ARE NOT RESPONSIBLE \n PLAY AT YOUR OWN RISK!",width/2,height/2);
            

        }

        function draw() {
            //If paused is off, the followig code will run aka the game will begin
            if(!paused) { 
              r = random(0,255); //Amount of color red
              b = random(0,255); //Amount of color blue
              g = random(0,255); //Amount of color green
              r1 = random(0,255); //Amount of color red
              b1 = random(0,255); //Amount of color blue
              g1 = random(0,255); //Amount of color green
              r2 = random(0,255); //Amount of color red
              b2 = random(0,255); //Amount of color blue
              g2 = random(0,255); //Amount of color green              
              background(r,b,g); //Background color 
              moveBall(); //Makes the ball move
              checkCollide(); //Check if the ball touches the paddle
              drawPaddle(); //Draws the paddle
              drawBall(); //Draws the ball
              drawPoints(); //Draw the score
              if (score >= 3 ) {
                  drawBall1();
                  moveBall1();
                  checkCollide1();
              } 
              
              if(score1 >= 6) {
                  drawBall2();
                  moveBall2();
                  checkCollide2();
              }
              
              if(score2 >= 9) {
                  drawBall3();
                  moveBall3();
                  checkCollide3();
              }
              
            }

        }
        //How the ball will be moving
        function moveBall() {
            ballX = ballX + ballSpeedX;
            ballY = ballY + ballSpeedY;

            console.log("ballSpeedX: " + ballSpeedX + 
                        ", ballSpeedY: " + ballSpeedY);
        }
        //Checks if the ball touches the paddle or not
        //If touch paddle the ball will bounce up 
        function checkCollide() {
            if (ballX < 0 || ballX > width) {
                ballSpeedX = ballSpeedX * -1;
            }
            if (ballY < 0) {
                ballSpeedY = ballSpeedY * -1;
            }
            if (ballY > height - paddleHeight) {
                if (ballX > mouseX && ballX < mouseX + 200) {
                    ballSpeedY = ballSpeedY * -1;
                    score += 1;
                    score1 += 1;
                    score2 += 1;
                    background(r,b,g);
                }
                //If the ball didn't touches the paddle the game will be over
                else {
                    textAlign(CENTER);
                    textSize(50);
                    fill("red");
                    text("GAME OVER!", width / 2, height / 4);
                    noLoop();
                }
            }
        }
        //The ball will be draw
        function drawBall() {
            fill(r1,b2,g1);
            noStroke();
            ellipse(ballX, ballY, 20, 20);
        }
        
        //How the ball will be moving
        function moveBall1() {
            ballX1 = ballX1 + ballSpeedX1;
            ballY1 = ballY1 + ballSpeedY1;

            console.log("ballSpeedX: " + ballSpeedX1 + 
                        ", ballSpeedY: " + ballSpeedY1);
        }
        //Checks if the ball touches the paddle or not
        //If touch paddle the ball will bounce up 
        function checkCollide1() {
            if (ballX1 < 0 || ballX1 > width) {
                ballSpeedX1 = ballSpeedX1 * -1;
            }
            if (ballY1 < 0) {
                ballSpeedY1 = ballSpeedY1 * -1;
            }
            if (ballY1 > height - paddleHeight) {
                if (ballX1 > mouseX && ballX1 < mouseX + 200) {
                    ballSpeedY1 = ballSpeedY1 * -1;
                    score += 1;
                    score1 += 1;
                    score2 += 1;
                    background(r,b,g);
                }
                //If the ball didn't touches the paddle the game will be over
                else {
                    textAlign(CENTER);
                    textSize(50);
                    fill("red");
                    text("GAME OVER!", width / 2, height / 4);
                    noLoop();
                }
            }
        }
        //The ball will be draw
        function drawBall1() {
            fill(r1,b2,g1);
            noStroke();
            ellipse(ballX1, ballY1, 20, 20);
        }
        //How the ball will be moving
        function moveBall2() {
            ballX2 = ballX2 + ballSpeedX2;
            ballY2 = ballY2 + ballSpeedY2;

            console.log("ballSpeedX: " + ballSpeedX2 + 
                        ", ballSpeedY: " + ballSpeedY2);
        }
        //Checks if the ball touches the paddle or not
        //If touch paddle the ball will bounce up 
        function checkCollide2() {
            if (ballX2 < 0 || ballX2 > width) {
                ballSpeedX2 = ballSpeedX2 * -1;
            }
            if (ballY2 < 0) {
                ballSpeedY2 = ballSpeedY2 * -1;
            }
            if (ballY2 > height - paddleHeight) {
                if (ballX2 > mouseX && ballX2 < mouseX + 200) {
                    ballSpeedY2 = ballSpeedY2 * -1;
                    score += 1;
                    score1 += 1;
                    score2 += 1;
                    background(r,b,g);
                }
                //If the ball didn't touches the paddle the game will be over
                else {
                    textAlign(CENTER);
                    textSize(50);
                    fill("red");
                    text("GAME OVER!", width / 2, height / 4);
                    noLoop();
                }
            }
        }
        //The ball will be draw
        function drawBall2() {
            fill(r1,b2,g1);
            noStroke();
            ellipse(ballX2, ballY2, 20, 20);
        }
        
        //How the ball will be moving
        function moveBall3() {
            ballX3 = ballX3 + ballSpeedX3;
            ballY3 = ballY3 + ballSpeedY3;

            console.log("ballSpeedX: " + ballSpeedX3 + 
                        ", ballSpeedY: " + ballSpeedY3);
        }
        //Checks if the ball touches the paddle or not
        //If touch paddle the ball will bounce up 
        function checkCollide3() {
            if (ballX3 < 0 || ballX3 > width) {
                ballSpeedX3 = ballSpeedX3 * -1;
            }
            if (ballY3 < 0) {
                ballSpeedY3 = ballSpeedY3 * -1;
            }
            if (ballY3 > height - paddleHeight) {
                if (ballX3 > mouseX && ballX3 < mouseX + 200) {
                    ballSpeedY3 = ballSpeedY3 * -1;
                    score += 1;
                    score1 += 1;
                    score2 += 1;
                    background(r,b,g);
                }
                //If the ball didn't touches the paddle the game will be over
                else {
                    textAlign(CENTER);
                    textSize(50);
                    fill("red");
                    text("GAME OVER!", width / 2, height / 4);
                    noLoop();
                }
            }
        }
        //The ball will be draw
        function drawBall3() {
            fill(r1,b2,g1);
            noStroke();
            ellipse(ballX3, ballY3, 20, 20);
        }
        //The paddle will be draw
        function drawPaddle() {
            stroke(r2,b2,g2); //Color of the outline of the paddle
            fill(r1,b1,g1); //Color of the inside of the paddle
            strokeWeight(4); //Thickness of the outline
            rect(mouseX, height - paddleHeight - 4, 200, paddleHeight); //Size of the paddle
        }
        //The score will be draw
        function drawPoints() {
            textStyle("BOLD"); //Text style
            textSize(30); //Size of the text
            textAlign(CENTER); //Position of the text
            fill("black"); //Color of the text
            text("SCORE: " + score,width/2,height/2) //What the text is
            
        }
        //Pressing the mouse will beginning/stop/resume the game
        function mousePressed() {
          if (paused){  
      //If paused(ball not moving is false) when mouse is clicked, move the ball)
            paused = false
          } else if (!paused){
      //If !paused(not paused) when mouse is clicked, pause the ball
            paused = true
          }
        }
        

    </script>
</head>

<body>
<form><input TYPE="button" onClick="history.go(0)" value="Reset"></form>
    <div id="code" class="container-fluid">
        <script src="https://gist-it.appspot.com/github/mingleg7756/p5js/blob/master/Pong-Project.html?footer=0"></script>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script>
        $(window).bind("load", function() {
            $('#code').before($('#defaultCanvas0').remove());
        });
    </script>
</body>



</html>
